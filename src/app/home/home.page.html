<ion-header translucent no-border>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-toggle>
        <ion-button>
          <ion-icon slot="icon-only" name="menu"></ion-icon>
        </ion-button>
      </ion-menu-toggle>
    </ion-buttons>
    <ion-title>Music App</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
  <!-- <ion-list-header>New relases</ion-list-header> -->
  <section *ngIf="genres.length" class="section-genre">
    <ion-slides [options]="{direction: 'horizontal',speed: 300,spaceBetween: 0,slidesPerView: 2.8}">
      <ion-slide *ngFor="let item of genres;">
        <ion-chip [id]="item" (click)="changeGenre(item)" color="{{ chipActive === item ? 'primary' : ''}}">
          <ion-label class="ion-text-nowrap"> {{ item }}</ion-label>
        </ion-chip>
      </ion-slide>
    </ion-slides>
  </section>

  <section *ngIf="playlists.length">
    <ion-list-header>Featured</ion-list-header>
    <ion-slides [options]="{direction: 'horizontal',speed: 300,spaceBetween: 0.1,slidesPerView: 2}">
      <ion-slide *ngFor="let playlist of playlists">
        <ion-card (click)="showPlaylistSongs(playlist)" *ngIf="playlist.tracks.total > 0">
          <img src={{playlist.images[0].url}} />
          <ion-card-header>
            <ion-card-title> {{playlist.name}}</ion-card-title>
            <ion-card-subtitle class="ion-text-capitalize">
              {{ playlist.tracks.total }} Tracks
            </ion-card-subtitle>
          </ion-card-header>
        </ion-card>
      </ion-slide>
    </ion-slides>
  </section>

  <div *ngIf="categories.length">
    <ion-list-header>Categories</ion-list-header>
    <ion-slides [options]="{direction: 'horizontal',speed: 300,spaceBetween: 0,slidesPerView: 2}">
      <ion-slide *ngFor="let category of categories">
        <ion-card (click)="showCategorySongs(category)">
          <img src={{category.icons[0].url}} />
          <ion-card-header>
            <ion-card-subtitle>{{category.name}}</ion-card-subtitle>
          </ion-card-header>
        </ion-card>
      </ion-slide>
    </ion-slides>
  </div>

  <div *ngIf="albums.length">
    <ion-list-header>Albums</ion-list-header>
    <ion-slides [options]="{direction: 'horizontal',speed: 300,spaceBetween: 0.1,slidesPerView: 2}">
      <ion-slide *ngFor="let album of albums">
        <ion-card (click)="showAlbumSongs(album)" *ngIf="album.total_tracks > 0">
          <img src={{album.images[0].url}} />
          <ion-card-header>
            <ion-card-title> {{album.name}}</ion-card-title>
            <ion-card-subtitle class="ion-text-capitalize">
              {{ album.total_tracks }} Tracks
            </ion-card-subtitle>
          </ion-card-header>
        </ion-card>
      </ion-slide>
    </ion-slides>
  </div>
</ion-content>

<ion-footer *ngIf="currentSong">
  <ion-grid>
    <ion-row>
      <ion-col class="ion-text-start">{{ parseTime(currentSong.currentTime) || "00:00" }}</ion-col>
      <ion-col class="ion-text-end">{{ parseTime(currentSong.duration) || "00:00" }}</ion-col>
    </ion-row>
  </ion-grid>

  <ion-progress-bar value="{{newTime}}" color="secondary"></ion-progress-bar>

  <ion-grid>
    <ion-row>
      <ion-col size="1">
        <ion-icon name="heart"></ion-icon>
      </ion-col>
      <ion-col size="10" class="ion-text-center">
        <ion-text>{{song.name || "Sin Reproducir"}}</ion-text>
      </ion-col>
      <ion-col size="1">
        <ion-icon name="play" (click)="play()" *ngIf="!song.playing"></ion-icon>
        <ion-icon name="pause" (click)="pause()" *ngIf="song.playing"></ion-icon>
      </ion-col>
    </ion-row>

  </ion-grid>

  <!-- <ion-text color="danger" *ngIf="!song.name">
          <h2>Aqui aparecera nuestra cancion</h2>
      </ion-text>
      <ion-text color="primary" *ngIf="song.name">
          <h2>{{song.name}}</h2>
      </ion-text> -->
</ion-footer>

<!-- <ion-content fullscreen>
  <ion-list>
    <ion-list-header> Music Recents </ion-list-header>

    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="caret-forward-circle-outline" color="primary"></ion-icon>
      </ion-avatar>
      <ion-label>
        <p>Album 0001 <span class="ion-float-right">2:25</span></p>
        <h2>Music Title</h2>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="caret-forward-circle-outline" color="primary"></ion-icon>
      </ion-avatar>
      <ion-label>
        <p>Album 0001 <span class="ion-float-right">2:25</span></p>
        <h2>Music Title</h2>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="caret-forward-circle-outline" color="primary"></ion-icon>
      </ion-avatar>
      <ion-label>
        <p>Album 0001 <span class="ion-float-right">2:25</span></p>
        <h2>Music Title</h2>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="caret-forward-circle-outline" color="primary"></ion-icon>
      </ion-avatar>
      <ion-label>
        <p>Album 0001 <span class="ion-float-right">2:25</span></p>
        <h2>Music Title</h2>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-button (click)="goLogin()" expand="block" fill="clear" shape="round">
    Go Login
  </ion-button>
</ion-content> -->
